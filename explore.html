<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Explore</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300..800;1,300..800&family=Poppins:wght@300;400&family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="./styles/explore.css" />
    <!-- Boxicons CSS -->
    <link
      href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://use.fontawesome.com/releases/v5.12.0/css/all.css"
    />
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons"
      rel="stylesheet">

</head>
<body>
     <!-- Navigation bar for the website -->
    <nav id="nav2">
     <!-- Logo for the website -->
     <label class="logo2">
       <img 
          src="./assets/image/Data For  Vericapture 2.png"
          alt="logo" 
        />
     </label>

      <!-- Checkbox for toggling the menu -->
      <input type="checkbox" id="menu-toggle" class="menu-toggle-checkbox2" />

      <!-- Label acts as the hamburger icon -->
      <label for="menu-toggle" class="menu-icon2">&#9776;</label>
      <ul id="nav-links2">
        <li><a href="index.html" class="home-active">Home</a></li>
        <li><a href="realtime capture.html">RealTime Capture</a></li>
        <li><a href="map.html">Map</a></li>
        <li><a href="trending.html">Trending</a></li>
        <li>
          <div class="changeContainer">
            <label for="image-toggle" class="dark-mode-label4">
              <img src="./assets/image/dark mode.png" alt="dark mode" id="dark-mode-toggle4"
              />
            </label>
          </div>
        </li>
        <li>
          <label class="optimusNaija">Optimus Naija</label>
          <div>
               <a href="#" class="optimus-container">
                 Your Location
               </a>
          </div>
        </li>
        <li>
            <div class="ellipse1-container">
             <img src="./assets/image/Ellipse 1.png" alt="Ellipse 1" class="ellipse-img" />
            </div>
        </li>
      </ul>
    </nav>
    <!-- Sidebar -->
    <nav class="sidebar">
        <div class="sidebar-header">
            <img src="./assets/image/Ellipse 1.png" alt="Ellipse 1" class="ellipse-img4" />
            <p class="stephen-ned">Stephen Ned</p>
            <p class="anambra">Awka Anambra</p>
            <a href="#">
              <img src="./assets/image/front arrow.png" alt="front arrow" class="front-arrow">
            </a>
        </div>

        <ul class="menu">
            <li class="active">
                <a href="./index.html"><img src="./assets/image/House.png" alt="Home"> Home</a>
            </li>
            <li>
                <a href="#"><img src="./assets/image/Explore.png" alt="Explore"> Explore</a>
            </li>
            <li>
                <a href="#"><img src="./assets/image/Vector (17).png" alt="Notification"> Notification</a>
            </li>
            <li>
                <a href="#"><img src="./assets/image/Vector (18).png" alt="Profile"> Profile</a>
            </li>
            <li>
                <a href="#"><img src="./assets/image/Gear.png" alt="Settings"> Settings</a>
            </li>
        </ul>
    </nav>

    <!-- explore content -->
    <div class="explore-container">
      <div class="explore-cont"> 
           <div class="explore-list-container">
               <ul class="explore-list">
                   <li>
                     <p>Top Stories</p>
                   </li>
                   <li>
                     <p>Crime</p>
                   </li>
                   <li>
                      <p>Traffic</p>
                   </li>
                   <li>
                      <p>Riot</p>
                   </li>
               </ul>
           </div>
    
           <div id="search-container">
                <input class="search-input" type="text" name="" placeholder="Type to Search..." />
                <i class="fa fa-search" aria-hidden="true"></i>
               <div class="your-area">
                   <div id="select-box3">
                      <p class="what-area">What happening in your area?</p>
                      <select class="select-area">
                           <option value="Nigeria">Nigeria</option>
                           <option value="ota">Ota</option>
                           <option value="awka">Awka</option>
                           <option value="onitsha">Onitsha</option>
                           <option value="enugu">Enugu</option>
                           <option value="owerri">Owerri</option>
                           <option value="portharcourt">Portharcourt</option>
                           <option value="uyo">Uyo</option>
                           <option value="calabar">Calabar</option>
                           <option value="warri">Warri</option>
                           <option value="asaba">Asaba</option>
                           <option value="benin">Benin</option>
                           <option value="akure">Akure</option>
                           <option value="lagos">Lagos</option>
                           <option value="abuja">Abuja</option>
                           <option value="kano">Kano</option>
                           <option value="ibadan">Ibadan</option>
                      </select>
                    </div>
                    <div class="location-modal-container">
                      <p class="ajah-modal">Ajah<button class="crime-button3">Crime</button><img class="front-arrow2" src="./assets/image/front arrow.png" alt="front arrow2"></p>
                      <p class="obalende-modal">Obalende<button class="traffic-button7">Traffic</button><img class="front-arrow3" src="./assets/image/front arrow.png" alt="front-arrow3"></p>
                      <p class="ikorodu-modal">Ikorodu<button class="riot-button5">Riot</button><img class="front-arrow4" src="./assets/image/front arrow.png" alt="front-arrow4"></p>
                   </div>
               </div>
           </div>
        </div> 
        <div class="update-container">
            <img src="./assets/image/Ellipse 1.png" alt="Ellipse 1" class="ellipse-update" />
            <input class="update-input" type="text" name="update" placeholder="Post an update" />
            <button class="videocam-btn"><a href="#"><img class="camera" src="./assets/image/Videocam.png" alt="videocam"></a>Go Live</button>
            <div if="isModalOpen" class="modal-overlay">
                <div class="modal-content">
                  <h2 class="upload-video">Upload a live Video</h2>
                  <p class="Kindly">Kindly click the capture icon to start recording your <span class="video-photo">video or take a photo</span></p>
                  <label class="camera-label">
                     <button class="camera-button"><img class="video-photo-img" src="./assets/image/Vector (24).png" alt="video or photo image"></button>
                     <p class="open-camera">click to open camera</p>
                  </label>
                  <button class="add-caption">Click to add caption</button>
                  <div class="modal-actions">
                      <button @click="isModalOpen = false" class="cancel-button">Cancel</button>
                      <button @click="handleCreateTodo" class="capture-button">Capture</button>
                   </div>
                </div>
            </div>
        </div>
        
        <div class="tweet-card2">
            <div class="tweet-header2">
                <img class="ellipse-2" src="./assets/image/Ellipse 1.png" alt="alternatively" >
                <p class="optimus-naija2">Optimus Naija <span class="time2">2m ago</span></p>
               
                <button class="crime-scenes">Crime</button>
                <img class="vector-img" src="./assets/image/Vector (12).png" alt="Oshodi Lagos" >
                <p class="oshodi-lagos">Oshodi Lagos</p>
                <p class="angry-mob">Angry mob storms street in retaliation of dead gang member, causes serious traffic</p>
                <div class="traffic2" data-traffic-id="6542">
                    <img class="image-14" src="./assets/image/image 14.png" alt="image 14" >
                    <div class="traffic-ratings-container2">
                        <div class="traffic-rating2">
                            <span class="traffic-rating-button material-icons">thumb_up</span>
                            <span class="traffic-rating-count">0</span>
                        </div>
                        <div class="traffic-rating2">
                            <span class="traffic-rating-button material-icons">thumb_down</span>
                            <span class="traffic-rating-count">0</span>
                        </div>
                        <div class="traffic-rating2">
                            <span class="traffic-rating-button material-icons">comment</span>
                            <span class="traffic-rating-count">0</span>
                        </div>
                        <div class="traffic-rating2">
                            <span class="traffic-rating-button material-icons">share</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div id="tweet-card3">
            <div class="tweet-header3">
                <img class="kaycee-img3" src="./assets/image/Ellipse 2.png" alt="img">
                <p id="kstrong3">Kaycee Pastor</p>
                <span class="time3">4hr ago</span>
                <button class="traffic-button3">Traffic</button>
                <img id="location3" src="./assets/image/Vector (12).png" alt="image" >
                <p class="awka3">Awka Anambra</p>
                <p id="fuel3">Fuel tanker falls and caused serious traffic <span id="on-awka3"> on Awka Onitsha Express Way</span></p>
                <div class="traffic3" data-traffic-id="6542">
                    <img class="traffic-image3" src="./assets/image/image.png" alt="traffic image">
                    <div class="traffic-ratings-container3">
                        <div class="traffic-rating3">
                            <span class="traffic-rating-button material-icons">thumb_up</span>
                            <span class="traffic-rating-count">0</span>
                        </div>
                        <div class="traffic-rating3">
                            <span class="traffic-rating-button material-icons">thumb_down</span>
                            <span class="traffic-rating-count">0</span>
                        </div>
                        <div class="traffic-rating3">
                            <span class="traffic-rating-button material-icons">comment</span>
                            <span class="traffic-rating-count">0</span>
                        </div>
                        <div class="traffic-rating3">
                            <span class="traffic-rating-button material-icons">share</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div id="tweet-card4">
            <div class="tweet-header4"> 
                <p class="valentine">Valentine Obayi<span class="time4">2m ago</span></p>  
                <button class="riot-btn">Riot</button>
                <img class="ellipse-3" src="./assets/image/Ellipse 3.png" alt="ellipse 3" >
                <img class="vector-img3" src="./assets/image/Vector (12).png" alt="vector-img" >
                <p class="agege-lagos4">Agege Lagos</p>
                <p class="road-block">Road blocked on agege motor road as thugs clash.</p>
               <div class="traffic4" data-traffic-id="6542">
                    <img class="image-riot" src="./assets/image/image riot.png" alt="image riot">
                    <div class="traffic-ratings-container4">
                        <div class="traffic-rating4">
                            <span class="traffic-rating-button material-icons">thumb_up</span>
                            <span class="traffic-rating-count">0</span>
                        </div>
                        <div class="traffic-rating4">
                            <span class="traffic-rating-button material-icons">thumb_down</span>
                            <span class="traffic-rating-count">0</span>
                        </div>
                        <div class="traffic-rating4">
                            <span class="traffic-rating-button material-icons">comment</span>
                            <span class="traffic-rating-count">0</span>
                        </div>
                        <div class="traffic-rating4">
                            <span class="traffic-rating-button material-icons">share</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Script to manage the modal popup and other interactions
document.addEventListener('DOMContentLoaded', () => {
  const goLiveButton = document.querySelector('.videocam-btn');
  const modalOverlay = document.querySelector('.modal-overlay');
  const cancelButton = document.querySelector('.cancel-button');
  const captureButton = document.querySelector('.capture-button');

  // Open the modal when 'Go Live' is clicked
  goLiveButton.addEventListener('click', (e) => {
    e.preventDefault();
    modalOverlay.style.display = 'flex';
  });

  // Close the modal when 'Cancel' is clicked
  cancelButton.addEventListener('click', () => {
    modalOverlay.style.display = 'none';
  });

  // Example functionality for Capture Button
  captureButton.addEventListener('click', () => {
    alert('Capture initiated! Implement further logic here.');
    modalOverlay.style.display = 'none';
  });

  // Handle Camera button (optional)
  const cameraButton = document.querySelector('.camera-button');
  cameraButton.addEventListener('click', () => {
    alert('Opening camera...');
    // Implement camera access here using media API
  });
});


       // Script to manage the modal popup and other interactions
       document.addEventListener('DOMContentLoaded', function() {
    // Process all tweet containers with their specific versions
    const processTweetContainer = (container) => {
        if (!container) return;
        
        // Get the version number from container class (2, 3, or 4)
        const versionMatch = container.className.match(/traffic(\d)/);
        const version = versionMatch ? versionMatch[1] : '2';
        
        // Find elements using version-specific classes
        const ratingsContainer = container.querySelector(`.traffic-ratings-container${version}`);
        if (!ratingsContainer) {
            console.warn(`Ratings container ${version} not found in:`, container);
            return;
        }
        
        // Get all rating divs for this version
        const ratingDivs = ratingsContainer.querySelectorAll(`.traffic-rating${version}`);
        if (ratingDivs.length < 4) {
            console.warn(`Not enough rating buttons (found ${ratingDivs.length}) in version ${version}:`, container);
            return;
        }
        
        // Extract interactive elements
        const elements = {
            like: getRatingElements(ratingDivs[0], version),
            dislike: getRatingElements(ratingDivs[1], version),
            comment: getRatingElements(ratingDivs[2], version),
            share: { button: ratingDivs[3]?.querySelector('.traffic-rating-button') }
        };
        
        // Verify all required elements exist
        if (!validateElements(elements, version, container)) return;
        
        // Initialize counts
        const counts = initializeCounts(elements);
        
        // Setup interactivity
        setupInteractivity(elements, counts, version);
    };
    
    // Helper function to get button and count elements
    const getRatingElements = (div, version) => ({
        button: div?.querySelector('.traffic-rating-button'),
        count: div?.querySelector('.traffic-rating-count')
    });
    
    // Validate all required elements exist
    const validateElements = (elements, version, container) => {
        const required = ['like', 'dislike', 'comment', 'share'];
        const missing = required.filter(key => !elements[key]?.button);
        
        if (missing.length) {
            console.warn(`Missing elements (${missing.join(', ')}) in version ${version}:`, container);
            return false;
        }
        return true;
    };
    
    // Initialize counts from DOM or zero
    const initializeCounts = (elements) => ({
        likes: parseInt(elements.like.count?.textContent) || 0,
        dislikes: parseInt(elements.dislike.count?.textContent) || 0,
        comments: parseInt(elements.comment.count?.textContent) || 0
    });
    
    // Setup all event listeners
    const setupInteractivity = (elements, counts, version) => {
        // Like button
        elements.like.button.addEventListener('click', () => {
            counts.likes++;
            if (elements.like.count) elements.like.count.textContent = counts.likes;
            elements.like.button.style.color = '#1DA1F2';
            if (elements.dislike.button) elements.dislike.button.style.color = '';
            console.log(`V${version} Like:`, counts.likes);
        });
        
        // Dislike button
        elements.dislike.button.addEventListener('click', () => {
            counts.dislikes++;
            if (elements.dislike.count) elements.dislike.count.textContent = counts.dislikes;
            elements.dislike.button.style.color = '#E0245E';
            if (elements.like.button) elements.like.button.style.color = '';
            console.log(`V${version} Dislike:`, counts.dislikes);
        });
        
        // Comment button
        elements.comment.button.addEventListener('click', () => {
            counts.comments++;
            if (elements.comment.count) elements.comment.count.textContent = counts.comments;
            console.log(`V${version} Comments:`, counts.comments);
        });
        
        // Share button
        elements.share.button.addEventListener('click', () => {
            console.log(`V${version} Share clicked`);
        });
        
        // Hover effects for all buttons
        Object.values(elements).forEach(({button}) => {
            if (!button) return;
            button.addEventListener('mouseenter', () => {
                button.style.transform = 'scale(1.2)';
                button.style.transition = 'transform 0.2s ease';
            });
            button.addEventListener('mouseleave', () => {
                button.style.transform = 'scale(1)';
            });
        });
    };
    
    // Process all tweet versions
    const versions = ['2', '3', '4'];
    versions.forEach(version => {
        const containers = document.querySelectorAll(`.traffic${version}`);
        containers.forEach(processTweetContainer);
    });
});

document.addEventListener('DOMContentLoaded', function() {
    // 1. SELECT ELEMENTS (only require darkModeToggle3)
    const elements = {
        darkModeToggle4: document.getElementById('dark-mode-toggle4'),
        body: document.body,
        nav: document.getElementById('nav2'),
        logo: document.querySelector('.logo2'),
        navLinks: document.getElementById('nav-link2'),
        sideBar: document.querySelector('.sidebar'),
        formContent2: document.querySelector('.form-content2'),
        formContentLeft2: document.querySelector('.form-content-left2'),
        line: document.querySelector('.line2')
    };

   // 2. CHECK CRITICAL ELEMENTS (now only requiring toggle4)
    if (!elements.darkModeToggle4 || !elements.body || !elements.logo) {
        console.error('Missing critical elements!');
        console.log('Elements status:', {
            darkModeToggle4: !!elements.darkModeToggle4,
            body: !!elements.body,
            logo: !!elements.logo
        });
        return;
    }

    // 3. IMAGE PATHS (no spaces!)
    const images = {
       defaultLogoSrc: './assets/image/Data For  Vericapture 2.png',
       alternateLogoSrc: './assets/image/logosss___2_-removebg-preview 1.png',
       darkModeImage: './assets/image/dark mode.png',
       lightModeImage: './assets/image/Property 1=Sun.png'
    };

    // 4. STATE MANAGEMENT
    let isDarkMode = false;

    function toggleDarkMode() {
        isDarkMode = !isDarkMode;
        applyDarkMode(isDarkMode);
    }

    function applyDarkMode(shouldBeDark) {
        if (shouldBeDark) {
            // DARK MODE
            elements.body.style.backgroundColor = 'black';
            elements.body.style.color = 'white';
            
            elements.logo.src = images.alternateLogoSrc;
            elements.darkModeToggle3.src = images.lightModeImage;

            // Style optional elements if they exist
            [container2, formLogin2, formContent2, formContentLeft2, line].forEach(el => {
                if (el) {
                    el.style.backgroundColor = 'black';
                    el.style.color = 'white';
                }
            });
        } else {
            // LIGHT MODE
            elements.body.style.backgroundColor = 'white';
            elements.body.style.color = 'black';
            
            elements.logo.src = images.defaultLogoSrc;
            elements.darkModeToggle4.src = images.darkModeImage;

            // Reset optional elements
            [container2, nav-links2, formContent2, formContentLeft2, line].forEach(el => {
                if (el) {
                    el.style.backgroundColor = 'white';
                    el.style.color = 'black';
                }
            });
        }
    }

    // 5. EVENT LISTENER (only for the existing toggle)
    elements.darkModeToggle4.addEventListener('click', toggleDarkMode);
});

 // Your existing JavaScript with the updated applyDarkMode function
 function applyDarkMode(shouldBeDark) {
      const root = document.documentElement;
      
      if (shouldBeDark) {
        root.style.setProperty('--bg-color', 'black');
        root.style.setProperty('--text-color', 'white');
        root.style.setProperty('--line-color', '#333');
      } else {
        root.style.setProperty('--bg-color', 'white');
        root.style.setProperty('--text-color', 'black');
        root.style.setProperty('--line-color', '#000');
      }
    }
    
    // Example toggle (you would connect this to your button)
    let darkMode = false;
    function toggleDarkMode() {
      darkMode = !darkMode;
      applyDarkMode(darkMode);
    }
</script>
</body>
</html>